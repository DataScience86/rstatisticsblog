<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?port=1313&mindelay=10&v=2" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="To create the best model which generalizes well to new unseen data. You must ensure that your test set serves as a proxy for actual dataset IE it represents the new dataset.
 Overview The very first step after pre-processing of the dataset is to split the data into training and test datasets. We usually split the data around 70%-30% between training and testing stages. The training set is the one that we use to learn the relationship between independent variables and the target variable."><meta property="og:title" content="Splitting Data" />
<meta property="og:description" content="To create the best model which generalizes well to new unseen data. You must ensure that your test set serves as a proxy for actual dataset IE it represents the new dataset.
 Overview The very first step after pre-processing of the dataset is to split the data into training and test datasets. We usually split the data around 70%-30% between training and testing stages. The training set is the one that we use to learn the relationship between independent variables and the target variable." />
<meta property="og:type" content="article" />
<meta property="og:url" content="//localhost:1313/docs/pre-processing-tasks/Splitting-Data/" />
<meta property="article:published_time" content="2020-01-03T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-02T18:02:54+05:30" />
<title>Splitting Data | R Statistics Blog</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.6df681b0bb21155cba49f6078e3559216772d8e03e780d240c73ea21817ed5e5.css" integrity="sha256-bfaBsLshFVy6SfYHjjVZIWdy2OA&#43;eA0kDHPqIYF&#43;1eU=">
<script defer src="/en.search.min.3d31721074493fbbf8ff42f1f894737445228593053b61f4321aa50a482e49d6.js" integrity="sha256-PTFyEHRJP7v4/0Lx&#43;JRzdEUihZMFO2H0MhqlCkguSdY="></script>

<script defer src="/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js" integrity="sha256-dKi7B/C&#43;6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-131766057-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="//localhost:1313/"><span>R Statistics Blog</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>






  
<ul>
  
  <li>
    <a href="" target="_blank" rel="noopener">
        
      </a>
  </li>
  
</ul>







  



  
  
  
  

  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
    <a href="/docs/subscribe/" class="">Subscribe</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
    <span>Quick R Tutorial</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/quick-r-tutorial/introduction-to-r/" class="">Getting Started With R</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/quick-r-tutorial/r-basics/" class="">R Basics</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/quick-r-tutorial/using-conditional-statements-and-loops/" class="">Conditions &amp; Loops</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/quick-r-tutorial/functions-and-apply-family/" class="">Its All About Functions</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/quick-r-tutorial/dataframe-manipulations/" class="">Dataframe Manipulations</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
    <span>Useful R Packages</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/useful-r-packages/ggplot2-tutorial/" class="">ggplot2</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/useful-r-packages/datatable-tutorial-data-manipulation/" class="">data.table</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/useful-r-packages/Leaftlet-Package-for-Maps/" class="">Leaftlet</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
    <span>Pre Processing Tasks</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Identifying-Outliers/" class="">Analysing Outliers</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Missing-Value-Imputation/" class="">Missing Value Imputation</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Summarizing-Data/" class="">Summarizing Data</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Hypothesis-Testing/" class="">Hypothesis Testing</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Correlation/" class="">Correlation</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Analysing-zero-variance-predictor/" class="">Analysing zero variance predictor</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Standardization-MinMax-Scaling/" class="">Standardization And Scaling</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Principal-Component-Analysis/" class="">Principal Component Analysis</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Splitting-Data/" class="active">Splitting Data</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
    <span>Foundational Algorithms</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/foundational-algorithms/Linear-Regression/" class="">Linear Regression</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/foundational-algorithms/Ridge-Regression/" class="">Ridge Regression</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/foundational-algorithms/Lasso-Regression/" class="">Lasso Regression</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/foundational-algorithms/Binary-Logistics-Regression/" class="">Binary Logistic Regression</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/foundational-algorithms/Multinomial-Logistic-Regressions/" class="">Multinomial Logistic Regression</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/foundational-algorithms/k-means-clustering/" class="">k-Mean Clustering</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
    <span>Text Mining</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/text-mining/text-pre-processing/" class="">Text Pre-Processing</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/text-mining/sentiment-analysis/" class="">Sentiment Analysis</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/text-mining/topic-modeling-lda/" class="">Topic Modeling</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
  </ul>
  











  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
  <li>
    <a href="https://github.com/DataScience86/rstatisticsblog/tree/master/content" target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Splitting Data</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#six-functions-in-r-for-splitting-data-into-train-and-test">Six functions in R for splitting data into train and test</a>
      <ul>
        <li><a href="#1-using-sample-function">1. Using <code>sample()</code> function</a></li>
        <li><a href="#2-using-sampleint-function">2. Using <code>sample.int()</code> function</a></li>
        <li><a href="#3-using-sample_n-function-from-dplyr-package">3. Using <code>sample_n()</code> function from {dplyr} package</a></li>
        <li><a href="#4-using-sample_frac-function-from-dplyr-package">4. Using <code>sample_frac()</code> function from {dplyr} package</a></li>
        <li><a href="#5-using-createdatapartition-function-from-caret-package">5. Using <code>createDataPartition()</code> function from {caret} package</a></li>
        <li><a href="#6-using-samplesplit-function-from-catools-package">6. Using <code>sample.split()</code> function from {caTools} package</a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><blockquote>
<p>To create the best model which generalizes well to new unseen data. You must ensure that your test set serves as a proxy for actual dataset IE it represents the new dataset.</p>
</blockquote>
<h1 id="overview">Overview</h1>
<p>The very first step after pre-processing of the dataset is to split the data into training and test datasets. We usually split the data around 70%-30% between training and testing stages. The training set is the one that we use to learn the relationship between independent variables and the target variable. This relationship is either stored in terms of mathematical function or is captured as a set of rules.</p>
<p>We then use the learnings from the training dataset and test it on the testing dataset. Our results are considered satisfactory if we get comparable results in training and testing datasets.</p>
<p>While we look for this split, we need to make sure that our test set meets the following two conditions:</p>
<ol>
<li>Test data should be large enough to yield statistically meaningful results.</li>
<li>We need to pick a test set such that it represents the data set as a whole. This means that the characteristics of testing and training datasets should be similar.</li>
</ol>
<h1 id="six-functions-in-r-for-splitting-data-into-train-and-test">Six functions in R for splitting data into train and test</h1>
<h2 id="1-using-sample-function">1. Using <code>sample()</code> function</h2>
<pre><code>set.seed(222)

sample_size = round(nrow(mtcars)*.70) # setting what is 70%
index &lt;- sample(seq_len(nrow(mtcars)), size = sample_size)

train &lt;- mtcars[index, ]
test &lt;- mtcars[-index, ]
</code></pre><h2 id="2-using-sampleint-function">2. Using <code>sample.int()</code> function</h2>
<pre><code>set.seed(222)

sample &lt;- sample.int(n = nrow(CO2),
                     size = floor(.70*nrow(CO2)), # Selecting 70% of data
                     replace = F)

train &lt;- CO2[sample, ]
test  &lt;- CO2[-sample, ]
</code></pre><h2 id="3-using-sample_n-function-from-dplyr-package">3. Using <code>sample_n()</code> function from {dplyr} package</h2>
<pre><code>library(dplyr)

sample_n(mtcars, 3)
sample_n(mtcars, 10, replace = TRUE)

# Using the above function to create 70 - 30 slipt into test and train
sample_size = round(nrow(iris)*.70) # setting what is 70%

train &lt;- sample_n(iris, sample_size)
sample_id &lt;- as.numeric(rownames(train)) # rownames() returns character so as.numeric
test &lt;- iris[-sample_id,]
</code></pre><h2 id="4-using-sample_frac-function-from-dplyr-package">4. Using <code>sample_frac()</code> function from {dplyr} package</h2>
<pre><code>library(dplyr)

sample_frac(mtcars, .3)
sample_frac(mtcars, .3, replace = TRUE)

# Using the above function to create 70 - 30 slipt into test and train
train &lt;- sample_frac(iris, 0.7)
sample_id &lt;- as.numeric(rownames(train)) # rownames() returns character so as.numeric
test &lt;- iris[-sample_id,]
</code></pre><h2 id="5-using-createdatapartition-function-from-caret-package">5. Using <code>createDataPartition()</code> function from {caret} package</h2>
<pre><code>library(caret)

index = createDataPartition(iris$Species, p = 0.70, list = FALSE)
train = iris[index, ]
test = iris[-index, ]
</code></pre><h2 id="6-using-samplesplit-function-from-catools-package">6. Using <code>sample.split()</code> function from {caTools} package</h2>
<pre><code>require(caTools)

set.seed(101)
sample = sample.split(iris$Species, SplitRatio = .75)
train = subset(iris, sample == TRUE)
test  = subset(iris, sample == FALSE)
</code></pre></article>
 
      

      <footer class="book-footer">
        
  <div class="flex justify-between">



  <div><a class="flex align-center" href="https://github.com/DataScience86/rstatisticsblog/tree/master/content/docs/commit/8d71588c1a4f671aa0d1b8126659af667a8085a8" title='Last modified by datasciencebeginner | May 2, 2020' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>May 2, 2020</span>
    </a>
  </div>



</div>

 
        
      </footer>

      
  
  <div class="book-comments">
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "rstatisticsblog-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#six-functions-in-r-for-splitting-data-into-train-and-test">Six functions in R for splitting data into train and test</a>
      <ul>
        <li><a href="#1-using-sample-function">1. Using <code>sample()</code> function</a></li>
        <li><a href="#2-using-sampleint-function">2. Using <code>sample.int()</code> function</a></li>
        <li><a href="#3-using-sample_n-function-from-dplyr-package">3. Using <code>sample_n()</code> function from {dplyr} package</a></li>
        <li><a href="#4-using-sample_frac-function-from-dplyr-package">4. Using <code>sample_frac()</code> function from {dplyr} package</a></li>
        <li><a href="#5-using-createdatapartition-function-from-caret-package">5. Using <code>createDataPartition()</code> function from {caret} package</a></li>
        <li><a href="#6-using-samplesplit-function-from-catools-package">6. Using <code>sample.split()</code> function from {caTools} package</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












