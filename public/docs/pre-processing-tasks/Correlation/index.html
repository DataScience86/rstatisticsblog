<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?port=1313&mindelay=10&v=2" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Overview Correlation coefficients are used to describe the degree of association between quantitative variables. The value of the correlation lies between &#43;1 to -1. The signs only indicate the direction of the relationship. That means a &#43;0.86 value is equal to -0.86. However, -ve sign indicates that if one variable increases, the other decreases, and &#43;ve sign indicates that if one variable increases, the other also increases. A value in the range of &#43;0."><meta property="og:title" content="Correlation" />
<meta property="og:description" content="Overview Correlation coefficients are used to describe the degree of association between quantitative variables. The value of the correlation lies between &#43;1 to -1. The signs only indicate the direction of the relationship. That means a &#43;0.86 value is equal to -0.86. However, -ve sign indicates that if one variable increases, the other decreases, and &#43;ve sign indicates that if one variable increases, the other also increases. A value in the range of &#43;0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="//localhost:1313/docs/pre-processing-tasks/Correlation/" />
<meta property="article:published_time" content="2019-12-07T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-02T18:02:54+05:30" />
<title>Correlation | R Statistics Blog</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.6df681b0bb21155cba49f6078e3559216772d8e03e780d240c73ea21817ed5e5.css" integrity="sha256-bfaBsLshFVy6SfYHjjVZIWdy2OA&#43;eA0kDHPqIYF&#43;1eU=">
<script defer src="/en.search.min.e51d0ec2e01a9fe7b062e58f4538d09b6c3e781d8097b67513928da11fc6dd21.js" integrity="sha256-5R0OwuAan&#43;ewYuWPRTjQm2w&#43;eB2Al7Z1E5KNoR/G3SE="></script>

<script defer src="/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js" integrity="sha256-dKi7B/C&#43;6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-131766057-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="//localhost:1313/"><span>R Statistics Blog</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>






  
<ul>
  
  <li>
    <a href="" target="_blank" rel="noopener">
        
      </a>
  </li>
  
</ul>







  



  
  
  
  

  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
    <a href="/docs/subscribe/" class="">Subscribe</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
    <span>Quick R Tutorial</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/quick-r-tutorial/introduction-to-r/" class="">Getting Started</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/quick-r-tutorial/r-basics/" class="">R Basics</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/quick-r-tutorial/using-conditional-statements-and-loops/" class="">Conditions &amp; Loops</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/quick-r-tutorial/functions-and-apply-family/" class="">Its All About Functions</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/quick-r-tutorial/dataframe-manipulations/" class="">Data Frame Manipulations</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
    <span>Useful R Packages</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/useful-r-packages/ggplot2-tutorial/" class="">ggplot2</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/useful-r-packages/datatable-tutorial-data-manipulation/" class="">data.table</a>
  

        </li>
      
    
      
    
  </ul>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
    <span>Pre Processing Tasks</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Identifying-Outliers/" class="">Analysing Outliers</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Missing-Value-Imputation/" class="">Missing Value Imputation</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Summarizing-Data/" class="">Summarizing data</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Hypothesis-Testing/" class="">Hypothesis Testing</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Correlation/" class="active">Correlation</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Analysing-zero-variance-predictor/" class="">Analysing zero variance predictor</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Standardization-MinMax-Scaling/" class="">Standardization And Scaling</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Principal-Component-Analysis/" class="">Principal Component Analysis</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/pre-processing-tasks/Splitting-Data/" class="">Splitting Data</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
    <span>Foundational Algorithms</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/foundational-algorithms/Linear-Regression/" class="">Linear Regression</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/foundational-algorithms/Ridge-Regression/" class="">Ridge Regression</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/foundational-algorithms/Lasso-Regression/" class="">Lasso Regression</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/foundational-algorithms/Binary-Logistics-Regression/" class="">Binary Logistic Regression</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/foundational-algorithms/Multinomial-Logistic-Regressions/" class="">Multinomial Logistic Regression</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/foundational-algorithms/k-means-clustering/" class="">k-Mean Clustering</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
    <span>Text Mining</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/text-mining/text-processing/" class="">Text Processing</a>
  

        </li>
      
    
      
    
      
    
  </ul>
  

        </li>
      
    
  </ul>
  











  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
  <li>
    <a href="https://github.com/DataScience86/rstatisticsblog/tree/master/content" target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Correlation</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#quick-look---types-of-correlation">Quick Look - Types of correlation</a></li>
    <li><a href="#generate-a-correlation-matrix">Generate a correlation matrix</a></li>
    <li><a href="#testing-correlation-for-significance">Testing correlation for significance</a></li>
    <li><a href="#visualizing-correlation-matrix">Visualizing correlation Matrix</a>
      <ul>
        <li><a href="#example-1---visualizing-corrgram">Example 1 - Visualizing corrgram</a></li>
        <li><a href="#example-2---visualizing-correlation-matrix-using-corrplot">Example 2 - Visualizing correlation matrix using <code>corrplot</code></a></li>
        <li><a href="#example-3---changing-the-shape-to-a-square">Example 3 - Changing the shape to a square</a></li>
        <li><a href="#example-4---representing-the-correlation-information-using-numbers">Example 4 - Representing the correlation information using numbers</a></li>
        <li><a href="#example-5---changing-the-layout-of-the-correlation-graph">Example 5 - Changing the layout of the correlation graph</a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="overview">Overview</h1>
<p>Correlation coefficients are used to describe the degree of association between quantitative variables. The value of the correlation lies between +1 to -1. The signs only indicate the direction of the relationship. That means a +0.86 value is equal to -0.86. However, -ve sign indicates that if one variable increases, the other decreases, and +ve sign indicates that if one variable increases, the other also increases. A value in the range of +0.20 to -0.20 indicates very week or no correlation.</p>
<p>R Programming supports a variety of correlations. However, we will only be discussing Pearson, Spearman, and Kendall correlation, as these are used most of the time. You can briefly learn about the 
  <a href="https://datasciencebeginners.com/2018/09/30/05-statistics-and-branches-of-statistics-part-2/">correlation and types, HERE</a></p>
<p>The <code>cor</code> function produces all the correlation, as mentioned above. Although the <code>cor</code> function finds the correlation for a matrix, it does not provide any information related to the statistical significance of the association. If you are interested in that, you can use <code>corr.test</code> function.</p>
<h1 id="quick-look---types-of-correlation">Quick Look - Types of correlation</h1>
<p>Let us quickly learn when to use which correlation.</p>
<p><strong>1. Pearson correlation</strong> - Pearson correlation is used when we want to assess the degree of association between two quantitative variables.</p>
<pre><code>cor(x, method = &quot;pearson&quot;)
</code></pre><p><strong>2. Spearman correlation</strong> -  Use spearman correlation when you want to assess the degree of association between rank-ordered variables.</p>
<pre><code>cor(x, method = &quot;spearman&quot;)
</code></pre><p><strong>3. Kendall’s correlation</strong> - Kendall&rsquo;s correlation can also be used to assess the degree of association between rank-ordered variables. However, it is a non-parametric measure.</p>
<pre><code>cor(x, method = &quot;kendall&quot;)
</code></pre><h1 id="generate-a-correlation-matrix">Generate a correlation matrix</h1>
<p>One can generate a correlation matrix given any correlation type using <code>cor</code> function. However, ensure that you have carefully looked into the data type. That will ensure that you produce the correct results using appropriate correlation. Let us generate a correlation between the variables of <code>iris</code> data.</p>
<pre><code># Computing correlation
corMat &lt;- cor(x= iris[, -5], method = &quot;pearson&quot;)
# Rounding the values to two decimal
round(corMat, 2)
</code></pre><pre><code># Output
             Sepal.Length Sepal.Width Petal.Length Petal.Width
Sepal.Length         1.00       -0.12         0.87        0.82
Sepal.Width         -0.12        1.00        -0.43       -0.37
Petal.Length         0.87       -0.43         1.00        0.96
Petal.Width          0.82       -0.37         0.96        1.00
</code></pre><p>The above matrix suggests that <code>Petal.Width</code> and <code>Sepal.Length</code> have a high correlation. Similarly, you find other variables that show a high correlation between each other.</p>
<p>The same function can be used to print the correlation matrix between the two ranked variables. For example, we can calculate the correlation between the cylinder type and gear. Both of these variables are rank variables.</p>
<pre><code># Looking into the spearman correlation
cor(mtcars[, c(&quot;cyl&quot;, &quot;gear&quot;)], method = &quot;spearman&quot;)
</code></pre><pre><code># Output
           cyl       gear
cyl   1.0000000 -0.5643105
gear -0.5643105  1.0000000
</code></pre><h1 id="testing-correlation-for-significance">Testing correlation for significance</h1>
<p>To check the statistical significance of the correlation, we can use <code>cor.test</code> function. The function generates the p-value which, when compared to alpha value, reveals if the correlation is statistically significant or not.</p>
<blockquote class="book-hint info">
  According to the decision rule, if <em>p-value</em> is less than <em>alpha(0.05)</em> we reject the null hypothesis. Here null hypothesis is - that correlation between the two variables is equal to zero.
</blockquote>

<pre><code># Checking significance of correlation
cor.test(mtcars$mpg, mtcars$disp)
</code></pre><pre><code># Output

    Pearson's product-moment
    correlation

data:  mtcars$mpg and mtcars$disp
t = -8.7472, df = 30,
p-value = 0.000000000938
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 -0.9233594 -0.7081376
sample estimates:
       cor
-0.8475514
</code></pre><p>Based on the above test results, we conclude that the correlation between mileage and displacement variable is significant.</p>
<h1 id="visualizing-correlation-matrix">Visualizing correlation Matrix</h1>
<p>A visualization is a powerful tool. It speeds up the process of understanding and digesting the critical points. As your dataset grows, it gets more and more challenging to go through the numbers present in your correlation matrix. So the best way to represent your insights about the relationship between variables is through correlation charts.</p>
<p>We are sharing some of the examples below, and that means you can use whatever suits your needs.  For building these graphs, we are using a package called <code>corrgram</code> and <code>corrplot</code>. If you don&rsquo;t have these R Package, then use <code>install.packages()</code> to install it on your local system.</p>
<h2 id="example-1---visualizing-corrgram">Example 1 - Visualizing corrgram</h2>
<pre><code># loading package
require(corrgram)
corrgram(mtcars[, c(&quot;mpg&quot;, &quot;wt&quot;, &quot;disp&quot;, &quot;hp&quot;, &quot;qsec&quot;)], order=TRUE)
</code></pre><figure>
  <img src="/images/correlation/corrgram1.jpeg" alt="Example code for building correlation graph">
</figure>
<p>In the above graph:</p>
<p><strong>The Red Shade</strong> indicates a negative correlation between the variables, darker the shade stronger the association.</p>
<p><strong>The Blue Shade</strong> indicates a positive correlation between the variables, darker the shade stronger the association.</p>
<h2 id="example-2---visualizing-correlation-matrix-using-corrplot">Example 2 - Visualizing correlation matrix using <code>corrplot</code></h2>
<p>There are seven different shapes, or you can say ways in which you can represent the information - “pie”, “circle”, “square”, “number”, “ellipse”, “shade”, “color”.</p>
<blockquote>
<p>The first argument to the function is a correlation matrix</p>
</blockquote>
<pre><code># loading library
require(corrplot)

# Generating correlation matrix
corMat &lt;- cor(mtcars[, c(&quot;mpg&quot;, &quot;wt&quot;, &quot;disp&quot;, &quot;hp&quot;, &quot;qsec&quot;)])
# Building the correlation plot
corrplot(corMat, method=&quot;pie&quot;)
</code></pre><figure>
  <img src="/images/correlation/corrplot1.jpeg" alt="Example code for building correlation graph using corrplot">
</figure>
<h2 id="example-3---changing-the-shape-to-a-square">Example 3 - Changing the shape to a square</h2>
<pre><code># Generating correlation matrix
corMat &lt;- cor(mtcars[, c(&quot;mpg&quot;, &quot;wt&quot;, &quot;disp&quot;, &quot;hp&quot;, &quot;qsec&quot;)])
# Building the correlation plot
corrplot(corMat, method=&quot;square&quot;)
</code></pre><figure>
  <img src="/images/correlation/corrplot2.jpeg" alt="Using squares to represent corrplot">
</figure>
<h2 id="example-4---representing-the-correlation-information-using-numbers">Example 4 - Representing the correlation information using numbers</h2>
<pre><code># Generating correlation matrix
corMat &lt;- cor(mtcars[, c(&quot;mpg&quot;, &quot;wt&quot;, &quot;disp&quot;, &quot;hp&quot;, &quot;qsec&quot;)])
# Building the correlation plot
corrplot(corMat, method=&quot;number&quot;)
</code></pre><figure>
  <img src="/images/correlation/corrplot3.jpeg" alt="Using numbers to represent corrplot">
</figure>
<h2 id="example-5---changing-the-layout-of-the-correlation-graph">Example 5 - Changing the layout of the correlation graph</h2>
<p>So far, we have been drawing the full correlation matrix. However, as we know, that the upper triangle matrix and lower triangle matrix are similar. So you can choose to represent only one half of the table.</p>
<pre><code># Generating correlation matrix
corMat &lt;- cor(mtcars[, c(&quot;mpg&quot;, &quot;wt&quot;, &quot;disp&quot;, &quot;hp&quot;, &quot;qsec&quot;)])
# Building the correlation plot
corrplot(corMat, method=&quot;circle&quot;, type = &quot;upper&quot;)
</code></pre><figure>
  <img src="/images/correlation/corrplot4.jpeg" alt="Presenting upper half of the corrplot">
</figure>
<p>In this chapter, we learned about functions in R programming to generate the correlation coefficient. We also looked into how to check if the correlation is statistically significant. Finally, We learned about packages in R using which we can create beautiful visualizations to present the correlation matrix. In the next chapter, we will learn about the applications of statistical hypothesis testing.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex justify-between">



  <div><a class="flex align-center" href="https://github.com/DataScience86/rstatisticsblog/tree/master/content/docs/commit/8d71588c1a4f671aa0d1b8126659af667a8085a8" title='Last modified by datasciencebeginner | May 2, 2020' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>May 2, 2020</span>
    </a>
  </div>



</div>

 
        
      </footer>

      
  
  <div class="book-comments">
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "rstatisticsblog-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#quick-look---types-of-correlation">Quick Look - Types of correlation</a></li>
    <li><a href="#generate-a-correlation-matrix">Generate a correlation matrix</a></li>
    <li><a href="#testing-correlation-for-significance">Testing correlation for significance</a></li>
    <li><a href="#visualizing-correlation-matrix">Visualizing correlation Matrix</a>
      <ul>
        <li><a href="#example-1---visualizing-corrgram">Example 1 - Visualizing corrgram</a></li>
        <li><a href="#example-2---visualizing-correlation-matrix-using-corrplot">Example 2 - Visualizing correlation matrix using <code>corrplot</code></a></li>
        <li><a href="#example-3---changing-the-shape-to-a-square">Example 3 - Changing the shape to a square</a></li>
        <li><a href="#example-4---representing-the-correlation-information-using-numbers">Example 4 - Representing the correlation information using numbers</a></li>
        <li><a href="#example-5---changing-the-layout-of-the-correlation-graph">Example 5 - Changing the layout of the correlation graph</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












